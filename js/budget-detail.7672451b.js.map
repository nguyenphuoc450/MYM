{"version":3,"sources":["webpack:///./src/views/Budget/BudgetDetail.vue","webpack:///./src/views/Budget/BudgetDetail.vue?380e","webpack:///./src/views/Budget/BudgetDetail.vue?2f15"],"names":["class","for","value","budget","type","formatDate","date","editBudget","name","id","disabled","placeholder","money","option","spendingOptions","s","key","earningOptions","e","note","isPending","message","error","components","NavigationTop","props","setup","router","split","reverse","join","getBudgetById","firestore","collection","doc","get","then","rs","data","catch","err","console","log","update","parseInt","setTimeout","push","__exports__","render"],"mappings":"sOAEOA,MAAM,sB,GACFA,MAAM,a,SACLA,MAAM,S,SAGNA,MAAM,S,GAIDA,MAAM,e,GACFA,MAAM,sB,uBAEP,eAAuC,SAAhCC,IAAI,YAAW,aAAS,M,GAE9BD,MAAM,sB,uBAEP,eAAsC,SAA/BC,IAAI,WAAU,aAAS,M,uBASlC,eAA8B,UAAtBC,MAAM,IAAG,QAAI,M,mCASrB,eAA8B,UAAtBA,MAAM,IAAG,QAAI,M,qBAMjBF,MAAM,O,SACNA,MAAM,O,GAMXA,MAAM,iB,kHAhDnB,eAAgB,GAChB,eAkDM,MAlDN,EAkDM,CAjDF,eAgDM,MAhDN,EAgDM,CA/C+B,YAAX,EAAAG,OAAOC,M,iBAA/B,eAEK,KAFL,EAAmD,oBACjC,eAAE,EAAAC,WAAW,EAAAF,OAAOG,OAAI,I,sBAEP,aAAX,EAAAH,OAAOC,M,iBAA/B,eAEK,KAFL,EAAoD,oBAClC,eAAE,EAAAC,WAAW,EAAAF,OAAOG,OAAI,I,sBAE1C,eAwCO,QAxCDN,MAAM,OAAQ,SAAM,8CAAU,EAAAO,YAAA,EAAAA,WAAA,qBAAU,e,CAC1C,eASM,MATN,EASM,CARF,eAGM,MAHN,EAGM,C,eAFF,eAA8F,SAAvFH,KAAK,QAAQI,KAAK,OAAON,MAAM,WAAWO,GAAG,W,qDAAoB,EAAAN,OAAOC,KAAI,IAAEM,SAAA,I,mBAAb,EAAAP,OAAOC,QAC/E,IAEJ,eAGM,MAHN,EAGM,C,eAFF,eAA4F,SAArFA,KAAK,QAAQI,KAAK,OAAON,MAAM,UAAUO,GAAG,U,qDAAmB,EAAAN,OAAOC,KAAI,IAAEM,SAAA,I,mBAAb,EAAAP,OAAOC,QAC7E,M,eAGR,eAAsD,SAA/CA,KAAK,OAAOJ,MAAM,O,qDAAgB,EAAAG,OAAOG,KAAI,K,mBAAX,EAAAH,OAAOG,Q,eAChD,eAAkE,SAA3DF,KAAK,SAASO,YAAY,U,qDAAmB,EAAAR,OAAOS,MAAK,K,mBAAZ,EAAAT,OAAOS,SAEtC,aAAX,EAAAT,OAAOC,K,iCADjB,eAQS,U,MARDK,GAAG,WAAWT,MAAM,O,qDAEf,EAAAG,OAAOU,OAAM,K,CAEtB,G,mBACA,eAES,2BAFW,EAAAC,iBAAe,SAApBC,G,wBAAf,eAES,UAF6BC,IAAKD,EAAEb,MAAQA,MAAOa,EAAEb,O,eACxDa,EAAEP,MAAI,Q,sBAJH,EAAAL,OAAOU,U,sBAQC,YAAX,EAAAV,OAAOC,K,iCADjB,eAQS,U,MARDK,GAAG,UAAUT,MAAM,O,qDAEd,EAAAG,OAAOU,OAAM,K,CAEtB,G,mBACA,eAES,2BAFW,EAAAI,gBAAc,SAAnBC,G,wBAAf,eAES,UAF4BF,IAAKE,EAAEhB,MAAQA,MAAOgB,EAAEhB,O,eACvDgB,EAAEV,MAAI,Q,sBAJH,EAAAL,OAAOU,U,qCAOpB,eAA4E,SAArET,KAAK,OAAOO,YAAY,UAAUX,MAAM,O,qDAAgB,EAAAG,OAAOgB,KAAI,K,mBAAX,EAAAhB,OAAOgB,QAC3C,EAAAC,U,wCAA3B,eAAkD,SAAlD,EAAsC,QACZ,EAAAA,W,iBAA1B,eAAwD,SAAxD,EAAqC,e,sBACrC,eAII,KAHCpB,MAAK,gBAAU,uBAAP,EAAAqB,QAAO,qC,eAEd,EAAAA,SAAO,GAEb,eAAsC,IAAtC,EAAsC,eAAX,EAAAC,OAAK,I,2GAY7B,GACXd,KAAM,eACNe,WAAY,CACVC,gBAAA,MAEFC,MAAO,CAAC,MACRC,MANW,SAMJD,GACL,IAAMtB,EAAS,eAAI,CACbC,KAAM,GACNE,KAAM,GACNM,MAAO,GACPC,OAAQ,GACRM,KAAM,KAENC,EAAY,gBAAI,GAChBC,EAAU,eAAI,IACdM,EAAS,iBAETb,EAAkB,eAAI,CACxB,CAACN,KAAM,UAAWN,MAAO,UACzB,CAACM,KAAM,UAAWN,MAAO,YACzB,CAACM,KAAM,SAAUN,MAAO,YACxB,CAACM,KAAM,WAAYN,MAAO,eAC1B,CAACM,KAAM,OAAQN,MAAO,WAGpBe,EAAiB,eAAI,CACrB,CAACT,KAAM,aAAcN,MAAO,UAC5B,CAACM,KAAM,cAAeN,MAAO,SAC7B,CAACM,KAAM,WAAYN,MAAO,YAC1B,CAACM,KAAM,SAAUN,MAAO,QACxB,CAACM,KAAM,OAAQN,MAAO,WAG5B,SAASG,EAAWC,GACf,OAAOA,EAAKsB,MAAM,KAAKC,UAAUC,KAAK,KA7B/B,SAgCGC,IAhCH,6FAgCZ,8GACQ,OAASC,YAAYC,WAAW,UAAUC,IAAIT,EAAMhB,IAAI0B,MAC3DC,MAAK,SAACC,GACLlC,EAAOD,MAAME,KAAOiC,EAAGC,OAAOlC,KAC9BD,EAAOD,MAAMI,KAAO+B,EAAGC,OAAOhC,KAC9BH,EAAOD,MAAMU,MAAQyB,EAAGC,OAAO1B,MAC/BT,EAAOD,MAAMW,OAASwB,EAAGC,OAAOzB,OAChCV,EAAOD,MAAMiB,KAAOkB,EAAGC,OAAOnB,QAE/BoB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAVlB,2CAhCY,iCA+CGjC,IA/CH,6FA+CZ,qGACEa,EAAUlB,OAAQ,EADpB,SAEQ,OAAS8B,YAAYC,WAAW,UAAUC,IAAIT,EAAMhB,IAAIkC,OAAO,CACnErC,KAAMH,EAAOD,MAAMI,KACnBM,MAAOgC,SAASzC,EAAOD,MAAMU,OAC7BC,OAAQV,EAAOD,MAAMW,OACrBM,KAAMhB,EAAOD,MAAMiB,OAEpBiB,MAAK,WACJhB,EAAUlB,OAAQ,EAClBmB,EAAQnB,MAAQ,qBAChB2C,YAAW,WACTxB,EAAQnB,MAAQ,GAChByB,EAAOmB,KAAK,CAACtC,KAAM,aAClB,QAEJ+B,OAAM,SAAAC,GACLnB,EAAQnB,MAAQ,kBAChBuC,QAAQC,IAAIF,MAlBhB,2CA/CY,wBAqEZ,OAxBAT,IAwBO,CACL5B,SACAkB,UACAP,kBACAG,iBACAZ,aACAe,YACAb,gB,iCCxIR,MAAMwC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf,W","file":"js/budget-detail.7672451b.js","sourcesContent":["<template>\r\n  <NavigationTop/>\r\n  <div class=\"budget-edit fadeIn\">\r\n      <div class=\"container\">\r\n        <h2 class=\"title\" v-if=\"budget.type === 'earning'\">\r\n          Sửa khoản thu - {{formatDate(budget.date)}}\r\n        </h2>\r\n        <h2 class=\"title\" v-if=\"budget.type === 'spending'\">\r\n          Sửa khoản chi - {{formatDate(budget.date)}} \r\n        </h2>\r\n        <form class=\"form\" @submit.prevent=\"editBudget\">\r\n            <div class=\"input-group\">\r\n                <div class=\"input-group__radio\">\r\n                    <input type=\"radio\" name=\"type\" value=\"spending\" id=\"spending\" v-model=\"budget.type\" disabled>\r\n                    <label for=\"spending\">Khoản chi</label>\r\n                </div>\r\n                <div class=\"input-group__radio\">\r\n                    <input type=\"radio\" name=\"type\" value=\"earning\" id=\"earning\" v-model=\"budget.type\" disabled>\r\n                    <label for=\"earning\">Khoản thu</label>\r\n                </div>\r\n            </div>\r\n            <input type=\"date\" class=\"my-3\" v-model=\"budget.date\">\r\n            <input type=\"number\" placeholder=\"Số tiền\" v-model=\"budget.money\">\r\n            <select id=\"spending\" class=\"my-3\" \r\n                v-if=\"budget.type === 'spending'\"\r\n                v-model=\"budget.option\"\r\n            >\r\n                <option value=\"\">Chọn</option>\r\n                <option v-for=\"s in spendingOptions\" :key=\"s.value\" :value=\"s.value\">\r\n                    {{s.name}}\r\n                </option>\r\n            </select>\r\n            <select id=\"earning\" class=\"my-3\" \r\n                v-if=\"budget.type === 'earning'\"\r\n                v-model=\"budget.option\"\r\n            >\r\n                <option value=\"\">Chọn</option>\r\n                <option v-for=\"e in earningOptions\" :key=\"e.value\" :value=\"e.value\">\r\n                    {{e.name}}\r\n                </option>\r\n            </select>\r\n            <input type=\"text\" placeholder=\"Ghi chú\" class=\"mb-3\" v-model=\"budget.note\">\r\n            <button class=\"btn\" v-if=\"!isPending\">Sửa</button>\r\n            <button class=\"btn\" v-if=\"isPending\">Loading...</button>\r\n            <p \r\n                :class=\"[message === 'Đã sửa thành công.' ? 'success-message' : 'error-message']\"\r\n            >\r\n                {{message}}\r\n            </p>\r\n            <p class=\"error-message\">{{error}}</p>\r\n        </form>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavigationTop from '../../components/NavigationTop.vue'\r\nimport {ref} from 'vue'\r\nimport firebase from 'firebase'\r\nimport {useRouter} from 'vue-router'\r\n\r\nexport default {\r\n    name: 'BudgetDetail',\r\n    components: {\r\n      NavigationTop\r\n    },\r\n    props: ['id'],\r\n    setup (props) {\r\n      const budget = ref({\r\n            type: '',\r\n            date: '',\r\n            money: '',\r\n            option: '',\r\n            note: ''\r\n      })\r\n      const isPending = ref(false)\r\n      const message = ref('')\r\n      const router = useRouter()\r\n\r\n      const spendingOptions = ref([\r\n          {name: 'Ăn uống', value: \"eating\"},\r\n          {name: 'Đổ xăng', value: \"gasoline\"},\r\n          {name: 'Mua đồ', value: \"shopping\"},\r\n          {name: 'Tiền nhà', value: \"house-money\"},\r\n          {name: 'Khác', value: \"other\"},\r\n      ])\r\n\r\n      const earningOptions = ref([\r\n            {name: 'Tiền lương', value: \"salary\"},\r\n            {name: 'Tiền thưởng', value: \"bonus\"},\r\n            {name: 'Làm thêm', value: \"overtime\"},\r\n            {name: 'Bán đồ', value: \"sell\"},\r\n            {name: 'Khác', value: \"other\"},\r\n        ])\r\n\r\n      function formatDate(date) {\r\n           return date.split(\"-\").reverse().join(\"/\"); \r\n      }\r\n\r\n      async function getBudgetById() {\r\n        await firebase.firestore().collection('budget').doc(props.id).get()\r\n          .then((rs) => {\r\n            budget.value.type = rs.data().type\r\n            budget.value.date = rs.data().date\r\n            budget.value.money = rs.data().money\r\n            budget.value.option = rs.data().option\r\n            budget.value.note = rs.data().note\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      }\r\n      getBudgetById()\r\n\r\n      async function editBudget() {\r\n        isPending.value = true\r\n        await firebase.firestore().collection('budget').doc(props.id).update({\r\n          date: budget.value.date,\r\n          money: parseInt(budget.value.money),\r\n          option: budget.value.option,\r\n          note: budget.value.note,\r\n        })\r\n        .then(() => {\r\n          isPending.value = false\r\n          message.value = \"Đã sửa thành công.\"\r\n          setTimeout(() => {\r\n            message.value = ''\r\n            router.push({name: 'Budget'})\r\n          }, 2000)\r\n        })\r\n        .catch(err => {\r\n          message.value = 'Đã sửa thất bại'\r\n          console.log(err)\r\n        })\r\n      }\r\n\r\n      return {\r\n        budget,\r\n        message,\r\n        spendingOptions,\r\n        earningOptions,\r\n        formatDate,\r\n        isPending,\r\n        editBudget\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.budget-edit {\r\n    padding: 32px 0;\r\n}\r\n.error-message, .success-message {\r\n    margin-top: 6px;\r\n}\r\n.input-group {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 12px;\r\n\r\n    &__radio {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-right: 12px;\r\n\r\n        label {\r\n            margin-left: 6px;\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./BudgetDetail.vue?vue&type=template&id=135149d5&scoped=true\"\nimport script from \"./BudgetDetail.vue?vue&type=script&lang=js\"\nexport * from \"./BudgetDetail.vue?vue&type=script&lang=js\"\n\nimport \"./BudgetDetail.vue?vue&type=style&index=0&id=135149d5&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\VueJS\\\\manage-your-money\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-135149d5\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./BudgetDetail.vue?vue&type=style&index=0&id=135149d5&lang=scss&scoped=true\""],"sourceRoot":""}